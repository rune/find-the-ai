import"./logic.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var e=""+new URL("assets/select-Dl59YhsP.wav",import.meta.url).href;const t=document.getElementById("board"),r=document.getElementById("playersSection"),n=new Audio(e);let i,o;Rune.initClient({onChange:({game:e,yourPlayerId:l,action:s})=>{const{cells:a,playerIds:c,winCombo:d,lastMovePlayerId:u,freeCells:m}=e;i||function(e,n,l){i=e.map(((e,r)=>{const n=document.createElement("button");return n.addEventListener("click",(()=>Rune.actions.claimCell(r))),t.appendChild(n),n})),o=n.map(((e,t)=>{const n=Rune.getPlayerInfo(e),i=document.createElement("li");return i.setAttribute("player",t.toString()),i.innerHTML=`<img src="${n.avatarUrl}" />\n           <span>${n.displayName+(n.playerId===l?"<br>(You)":"")}</span>`,r.appendChild(i),i}))}(a,c,l),u&&t.classList.remove("initial"),i.forEach(((e,t)=>{const r=a[t];e.setAttribute("player",(null!==r?c.indexOf(r):-1).toString()),e.setAttribute("dim",String(d&&!d.includes(t)||!m&&!d)),a[t]||u===l||d?e.setAttribute("disabled",""):e.removeAttribute("disabled")})),o.forEach(((e,t)=>{e.setAttribute("your-turn",String(c[t]!==u&&!d&&m))})),s&&"claimCell"===s.name&&n.play()}});